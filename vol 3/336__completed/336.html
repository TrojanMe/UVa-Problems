#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;algorithm&gt;#include &lt;cstring&gt;#include &lt;string&gt;#include &lt;cctype&gt;#include &lt;stack&gt;#include &lt;queue&gt;#include &lt;list&gt;#include &lt;vector&gt;#include &lt;map&gt;#include &lt;sstream&gt;#include &lt;bitset&gt;#include &lt;utility&gt;#include &lt;set&gt;#define pi acos(-1.0)#define N 1000000using namespace std;bool matrix [30 + 3] [30 + 3];void reset (){    for ( int i = 0; i &lt; 33; i++ )        memset (matrix [i], false, sizeof (matrix [i]));}int main (){    int edges;    int cases = 0;    while ( cin &gt;&gt; edges &amp;&amp; edges ) {        reset ();        map &lt;int, int&gt; index;        int nodeNumber = 1;        for ( int i = 0; i &lt; edges; i++ ) {            int a, b;            cin &gt;&gt; a &gt;&gt; b;            if ( !index [a] ) index [a] = nodeNumber++;            if ( !index [b] ) index [b] = nodeNumber++;            matrix [index [a]] [index [b]] = matrix [index [b]] [index [a]] = true;        }        int queryNode;        int ttl;        int dist [30 + 3];        while ( cin &gt;&gt; queryNode &gt;&gt; ttl ) {            if ( queryNode == 0 &amp;&amp; ttl == 0 ) break;            memset (dist, -1, sizeof (dist));            dist [index [queryNode]] = 0;            queue &lt;int&gt; q;            q.push (index [queryNode]);            while ( !q.empty () ) {                int pop = q.front ();                q.pop ();                for ( int i = 1; i &lt; nodeNumber; i++ ) {                    if ( matrix [pop] [i] &amp;&amp; dist [i] == -1 ) {                        dist [i] = dist [pop] + 1;                        q.push (i);                    }                }            }            int cnt = 0;            for ( int i = 1; i &lt; nodeNumber; i++ ) {                if ( dist [i] == -1 || dist [i] &gt; ttl ) cnt++;            }            printf (&quot;Case %d: %d nodes not reachable from node %d with TTL = %d.\n&quot;,                    ++cases, cnt, queryNode, ttl);        }    }    return 0;}